{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Desktop/web_101/TikTok_Frontend/src/lib/api-config.js.js"],"sourcesContent":["// src/lib/api-config.js\r\nimport axios from 'axios';\r\n\r\n// Create axios instance with baseURL\r\nconst apiClient = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Request interceptor for adding authorization\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers['Authorization'] = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default apiClient;\r\n"],"names":[],"mappings":"AAAA,wBAAwB;;;;AACxB;;AAEA,qCAAqC;AACrC,MAAM,YAAY,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC7B,SAAS,QAAQ,GAAG,CAAC,mBAAmB,IAAI;IAC5C,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,+CAA+C;AAC/C,UAAU,YAAY,CAAC,OAAO,CAAC,GAAG,CAChC,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;IACrD;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Desktop/web_101/TikTok_Frontend/src/services/userService.js"],"sourcesContent":["import apiClient from '../lib/axios';\r\n\r\nexport const getUserById = async (userId) => {\r\n  try {\r\n    const response = await apiClient.get(`/users/${userId}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(`Error fetching user ${userId}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateUser = async (id, formData) => {\r\n  try {\r\n    const response = await apiClient.put(`/users/${id}`, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data', // Important for file uploads\r\n      },\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(`Error updating user ${id}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const followUser = async (userId) => {\r\n  try {\r\n    console.log(`Following user ${userId}`);\r\n    const response = await apiClient.post(`/users/${userId}/follow`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(`Error following user ${userId}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const unfollowUser = async (userId) => {\r\n  try {\r\n    console.log(`Unfollowing user ${userId}`);\r\n    const response = await apiClient.delete(`/users/${userId}/follow`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(`Error unfollowing user ${userId}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getUserFollowers = async (id) => {\r\n  try {\r\n    const response = await apiClient.get(`/users/${id}/followers`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(`Error fetching followers for user ${id}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getUserFollowing = async (id) => {\r\n  try {\r\n    const response = await apiClient.get(`/users/${id}/following`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(`Error fetching following for user ${id}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getUserVideos = async (id) => {\r\n  try {\r\n    const id = typeof id === 'object' ? id.id : id;\r\n    \r\n    const response = await apiClient.get(`/users/${id}/videos`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(`Error fetching videos for user ${id}:`, error);\r\n    \r\n    return { videos: [] };\r\n  }\r\n};"],"names":[],"mappings":";;;;;;;;;AAAA;;AAEO,MAAM,cAAc,OAAO;IAChC,IAAI;QACF,MAAM,WAAW,MAAM,mHAAA,CAAA,UAAS,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,QAAQ;QACvD,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,oBAAoB,EAAE,OAAO,CAAC,CAAC,EAAE;QAChD,MAAM;IACR;AACF;AAEO,MAAM,aAAa,OAAO,IAAI;IACnC,IAAI;QACF,MAAM,WAAW,MAAM,mHAAA,CAAA,UAAS,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,IAAI,EAAE,UAAU;YAC7D,SAAS;gBACP,gBAAgB;YAClB;QACF;QACA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,oBAAoB,EAAE,GAAG,CAAC,CAAC,EAAE;QAC5C,MAAM;IACR;AACF;AAEO,MAAM,aAAa,OAAO;IAC/B,IAAI;QACF,QAAQ,GAAG,CAAC,CAAC,eAAe,EAAE,QAAQ;QACtC,MAAM,WAAW,MAAM,mHAAA,CAAA,UAAS,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,OAAO,OAAO,CAAC;QAC/D,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,qBAAqB,EAAE,OAAO,CAAC,CAAC,EAAE;QACjD,MAAM;IACR;AACF;AAEO,MAAM,eAAe,OAAO;IACjC,IAAI;QACF,QAAQ,GAAG,CAAC,CAAC,iBAAiB,EAAE,QAAQ;QACxC,MAAM,WAAW,MAAM,mHAAA,CAAA,UAAS,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,OAAO,OAAO,CAAC;QACjE,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,uBAAuB,EAAE,OAAO,CAAC,CAAC,EAAE;QACnD,MAAM;IACR;AACF;AAEO,MAAM,mBAAmB,OAAO;IACrC,IAAI;QACF,MAAM,WAAW,MAAM,mHAAA,CAAA,UAAS,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,GAAG,UAAU,CAAC;QAC7D,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,kCAAkC,EAAE,GAAG,CAAC,CAAC,EAAE;QAC1D,MAAM;IACR;AACF;AAEO,MAAM,mBAAmB,OAAO;IACrC,IAAI;QACF,MAAM,WAAW,MAAM,mHAAA,CAAA,UAAS,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,GAAG,UAAU,CAAC;QAC7D,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,kCAAkC,EAAE,GAAG,CAAC,CAAC,EAAE;QAC1D,MAAM;IACR;AACF;AAEO,MAAM,gBAAgB,OAAO;IAClC,IAAI;QACF,MAAM,KAAK,OAAO,OAAO,WAAW,GAAG,EAAE,GAAG;QAE5C,MAAM,WAAW,MAAM,mHAAA,CAAA,UAAS,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,GAAG,OAAO,CAAC;QAC1D,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,+BAA+B,EAAE,GAAG,CAAC,CAAC,EAAE;QAEvD,OAAO;YAAE,QAAQ,EAAE;QAAC;IACtB;AACF","debugId":null}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Desktop/web_101/TikTok_Frontend/src/app/explore-users/page.jsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport apiClient from '../../lib/api-config.js';\r\nimport Link from 'next/link';\r\nimport { getAllUsers, followUser, unfollowUser } from '../../services/userService.js';\r\nimport { useAuth } from '../../contexts/authContext';\r\nimport toast from 'react-hot-toast';\r\nimport { FaUserPlus, FaUserCheck } from 'react-icons/fa';\r\n\r\nexport default function ExploreUsers() {\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const { user: currentUser, isAuthenticated } = useAuth();\r\n\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await apiClient.get('/users');\r\n        setUsers(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching users:', error);\r\n        toast.error('Failed to load users');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const handleFollowToggle = async (userId) => {\r\n  if (!isAuthenticated) {\r\n    toast.error('Please log in to follow users');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const userToUpdate = users.find(u => u.id === userId);\r\n    // Use isFollowing property from the user object\r\n    const isCurrentlyFollowing = userToUpdate.isFollowing;\r\n\r\n    if (isCurrentlyFollowing) {\r\n      await unfollowUser(userId);\r\n    } else {\r\n      await followUser(userId);\r\n    }\r\n\r\n    // Update UI\r\n    setUsers(users.map(user => \r\n      user.id === userId \r\n        ? { ...user, isFollowing: !isCurrentlyFollowing }\r\n        : user\r\n    ));\r\n\r\n    toast.success(isCurrentlyFollowing ? 'Unfollowed user' : 'Following user');\r\n  } catch (error) {\r\n    console.error('Error toggling follow:', error);\r\n    toast.error('Failed to update follow status');\r\n  }\r\n};\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center py-10\">\r\n        <div className=\"h-8 w-8 animate-spin rounded-full border-2 border-blue-500 border-t-transparent\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-4\">\r\n      <h1 className=\"text-2xl font-bold mb-6\">Discover Users</h1>\r\n      \r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n        {users.filter(u => u.id !== currentUser?.id).map(user => (\r\n          <div key={user.id} className=\"border rounded-lg p-4 flex flex-col items-center\">\r\n            <div className=\"h-20 w-20 overflow-hidden rounded-full mb-3\">\r\n              <img\r\n                src={user.avatar || \"https://via.placeholder.com/150\"}\r\n                alt={user.username}\r\n                className=\"h-full w-full object-cover\"\r\n              />\r\n            </div>\r\n            \r\n            <Link href={`/profile/${user.id}`} className=\"font-bold text-lg hover:underline\">\r\n              {user.username}\r\n            </Link>\r\n            \r\n            {user.name && <p className=\"text-gray-600 mb-2\">{user.name}</p>}\r\n            \r\n            <button\r\n              onClick={() => handleFollowToggle(user.id)}\r\n              className={`mt-2 rounded-full px-4 py-1 flex items-center ${\r\n                user.isFollowing \r\n                  ? 'bg-gray-200 text-gray-800' \r\n                  : 'bg-blue-500 text-white'\r\n              }`}\r\n            >\r\n              {user.isFollowing ? (\r\n                <>\r\n                  <FaUserCheck className=\"mr-1\" /> Following\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <FaUserPlus className=\"mr-1\" /> Follow\r\n                </>\r\n              )}\r\n            </button>\r\n          </div>\r\n        ))}\r\n\r\n        {users.length === 0 && (\r\n          <div className=\"col-span-full text-center py-8 text-gray-500\">\r\n            No users found\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}